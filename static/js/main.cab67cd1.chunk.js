(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(31)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(6),o=n.n(a),u=n(1),s=(n(26),n(8)),l=(n(27),n(3)),i=n(7);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f="title",d="body",b=function(e){return e.posts},h=function(e){return e.searchForm.searchText},y=function(e){return e.searchForm.searchProps},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loading":return t.value;case"delete_post":return e.filter(function(e){return e.id!==t.value});case"delete_comment":return e.map(function(e){return p({},e,{comments:e.comments.filter(function(e){return e.id!==t.value})})});default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchText:"",searchProps:"title"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_search_text":return p({},e,{searchText:t.value});case"set_search_props":return p({},e,{searchProps:t.value});default:return e}},j=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{posts:v(e.posts,t),searchForm:O(e.searchForm,t)}}),E=n(15),g=function(e){var t=e.name,n=e.username,r=e.email,a=e.address;return c.a.createElement("div",{className:"post-page__user"},t,n&&"(".concat(n,")"),c.a.createElement("br",null),r,c.a.createElement("br",null),a&&"City: ".concat(a.city),c.a.createElement("br",null),a&&"Street: ".concat(a.street))};g.defaultProps={name:null,username:null,address:null};var P=g,w=Object(u.b)(null,function(e){return{deleteComment:function(t){return e(function(e){return{type:"delete_comment",value:e}}(t))}}})(function(e){var t=e.comment,n=e.deleteComment;return c.a.createElement("div",{className:"comment-list__comment"},c.a.createElement(P,{email:t.email}),c.a.createElement("div",null,c.a.createElement("h4",null,t.name),c.a.createElement("p",null,t.body),c.a.createElement("button",{type:"button",onClick:function(){return n(t.id)}},"Delete comment")))}),_=(n(28),function(e){var t=e.comments;return c.a.createElement("div",{className:"comment-list"},c.a.createElement("h3",null,"Comments"),c.a.createElement("div",{className:"comment-list__body"},t&&t.map(function(e){return c.a.createElement(w,{comment:e,key:e.id})})))});_.defaultProps={comments:null};var x=_,k=(n(29),function(e){var t=e.title,n=e.body,r=e.comments,a=e.user,o=e.id,u=e.deletePost;return c.a.createElement("div",{className:"post-page"},c.a.createElement("div",null,c.a.createElement(P,a),c.a.createElement("button",{type:"button",onClick:function(){return u(o)}},"Delete post")),c.a.createElement("div",{className:"post-page__post"},c.a.createElement("h2",null,t),c.a.createElement("div",null,n),c.a.createElement(x,{comments:r})))});k.defaultProps={comments:null};var B=Object(u.b)(null,function(e){return{deletePost:function(t){return e(function(e){return{type:"delete_post",value:e}}(t))}}})(k),D=Object(u.b)(function(e){return{posts:b(e),searchText:h(e),searchProps:y(e)}},{})(function(e){var t=e.posts,n=e.searchText,r=e.searchProps,a=[];return a=""!==n?t.filter(function(e,t){switch(e){case d:return function(e){return e.body.includes(t)};case f+d:return function(e){return e.title.includes(t)||e.body.includes(t)};default:return function(e){return e.title.includes(t)}}}(r,n)):Object(E.a)(t),c.a.createElement("div",null,c.a.createElement("div",{className:"count-of-pages"},"".concat(a.length," of ").concat(t.length)),a.map(function(e){return c.a.createElement(B,Object.assign({},e,{key:e.id}))}))});function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T=Object(u.b)(function(e){return{currentSearch:h(e),currentSProp:y(e)}},function(e){return{setFiterText:function(t){return e(function(e){return{type:"set_search_text",value:e}}(t))},setFilterProps:function(t){return e(function(e){return{type:"set_search_props",value:e}}(t))}}})(function(e){var t=e.currentSearch,n=e.currentSProp,a=e.setFilterProps,o=e.setFiterText,u=Object(r.useState)(t),i=Object(s.a)(u,2),m=i[0],p=i[1],b={searchByTitle:n.includes(f),searchByBody:n.includes(d)},h=function(e){var t=e.target.name;b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},b,Object(l.a)({},t,!b[t]));var n="".concat(b.searchByTitle?f:"").concat(b.searchByBody?d:"");a(n)};return c.a.createElement("form",{className:"search-form",name:"searchForm",action:"",onSubmit:function(e){e.preventDefault(),m!==t&&o(m)}},c.a.createElement("input",{className:"search-form__input",name:"searchInput",value:m,type:"search",onBlur:function(){m!==t&&o(m)},onChange:function(e){return p(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"checkTitle"},c.a.createElement("input",{name:"searchByTitle",type:"checkbox",value:"title",id:"checkTitle",checked:b.searchByTitle,onChange:h}),"by post title"),c.a.createElement("label",{htmlFor:"checkBody"},c.a.createElement("input",{name:"searchByBody",type:"checkbox",value:"body",id:"checkBody",checked:b.searchByBody,onChange:h}),"by post text"))}),F=n(5),N=n.n(F),C=n(12);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=function(){var e=Object(C.a)(N.a.mark(function e(t){var n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(C.a)(N.a.mark(function e(){var t,n,r,c,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://jsonplaceholder.typicode.com/",e.next=3,J("".concat(t,"posts"));case 3:return n=e.sent,e.next=6,J("".concat(t,"users"));case 6:return r=e.sent,e.next=9,J("".concat(t,"comments"));case 9:return c=e.sent,e.next=12,n.map(function(e){return I({},e,{user:r.find(function(t){return t.id===e.userId}),comments:c.filter(function(t){return e.id===t.postId})})});case 12:return a=e.sent,e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=Object(u.b)(null,function(e){return{loadPosts:function(t){return e(function(e){return{type:"loading",value:e}}(t))}}})(function(e){var t=e.loadPosts,n=Object(r.useState)("Load"),a=Object(s.a)(n,2),o=a[0],u=a[1];return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"List of posts"),"Loaded"!==o?c.a.createElement("button",{type:"button",className:"load-button",onClick:function(e){var n=e.target;u("Loading..."),n.disabled="Loading..."===o,A().then(function(e){t(e),u("Loaded")})}},o):c.a.createElement("div",null,c.a.createElement(T,null),c.a.createElement(D,null)))});o.a.render(c.a.createElement(u.a,{store:j},c.a.createElement(q,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.cab67cd1.chunk.js.map