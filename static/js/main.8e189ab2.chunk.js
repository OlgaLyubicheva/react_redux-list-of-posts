(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(31)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),u=n(2),s=(n(26),n(4)),l=(n(27),n(8)),i=n(7);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){return e.posts},d=function(e){return e.searchForm.searchText},b=function(e){return e.searchForm.searchProps},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loading":return t.value;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchText:"",searchProps:"title"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_search_text":return p({},e,{searchText:t.value});case"set_search_props":return p({},e,{searchProps:t.value});default:return e}},y=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{posts:h(e.posts,t),searchForm:v(e.searchForm,t)}}),O=n(15),E=function(e){var t=e.name,n=e.username,r=e.email,c=e.address;return a.a.createElement("div",{className:"post-page__user"},t,n&&"(".concat(n,")"),a.a.createElement("br",null),r,a.a.createElement("br",null),c&&"City: ".concat(c.city),a.a.createElement("br",null),c&&"Street: ".concat(c.street))};E.defaultProps={name:null,username:null,address:null};var j=E,g=function(e){var t=e.comment;return a.a.createElement("div",{className:"comment-list__comment"},a.a.createElement(j,{email:t.email}),a.a.createElement("div",null,a.a.createElement("h4",null,t.name),a.a.createElement("p",null,t.body)))},P=(n(28),function(e){var t=e.comments;return a.a.createElement("div",{className:"comment-list"},a.a.createElement("h3",null,"Comments"),a.a.createElement("div",{className:"comment-list__body"},t&&t.map(function(e){return a.a.createElement(g,{comment:e,key:e.id})})))});P.defaultProps={comments:null};var w=P,x=(n(29),function(e){var t=e.title,n=e.body,r=e.comments,c=e.user;return a.a.createElement("div",{className:"post-page"},a.a.createElement(j,c),a.a.createElement("div",{className:"post-page__post"},a.a.createElement("h2",null,t),a.a.createElement("div",null,n),a.a.createElement(w,{comments:r})))});x.defaultProps={comments:null};var _=x,k=Object(u.b)(function(e){return{posts:f(e),searchText:d(e),searchProps:b(e)}},{})(function(e){var t=e.posts,n=e.searchText,r=e.searchProps,c=[];return c=""!==n?t.filter(function(e,t){switch(e){case"body":return function(e){return e.body.includes(t)};case"titlebody":return function(e){return e.title.includes(t)||e.body.includes(t)};default:return function(e){return e.title.includes(t)}}}(r,n)):Object(O.a)(t),a.a.createElement("div",null,c.map(function(e){return a.a.createElement(_,Object.assign({},e,{key:e.id}))}))}),S=Object(u.b)(function(e){return{currentSearch:d(e)}},function(e){return{setFiterText:function(t){return e(function(e){return{type:"set_search_text",value:e}}(t))},setFilterProps:function(t){return e(function(e){return{type:"set_search_props",value:e}}(t))}}})(function(e){var t=e.currentSearch,n=e.setFilterProps,c=e.setFiterText,o=Object(r.useState)(t),u=Object(s.a)(o,2),l=u[0],i=u[1],m=Object(r.useState)("title"),p=Object(s.a)(m,2),f=p[0],d=p[1],b=Object(r.useState)(""),h=Object(s.a)(b,2),v=h[0],y=h[1],O=function(e){"title"===e.target.value?d(""===f?"title":""):y(""===v?"body":""),n(f+v)};return a.a.createElement("form",{className:"search-form",name:"searchForm",action:"",onSubmit:function(e){e.preventDefault(),l!==t&&c(l)}},a.a.createElement("input",{className:"search-form__input",name:"searchInput",value:l,type:"search",onBlur:function(){l!==t&&c(l)},onChange:function(e){return i(e.target.value)}}),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"checkTitle"},a.a.createElement("input",{name:"searchByTitle",type:"checkbox",value:"title",id:"checkTitle",checked:"title"===f,onChange:O}),"by post title"),a.a.createElement("label",{htmlFor:"checkBody"},a.a.createElement("input",{name:"searchByBody",type:"checkbox",value:"body",id:"checkBody",checked:"body"===v,onChange:O}),"by post text"))}),F=n(5),N=n.n(F),T=n(12);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=function(){var e=Object(T.a)(N.a.mark(function e(t){var n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(T.a)(N.a.mark(function e(){var t,n,r,a,c;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://jsonplaceholder.typicode.com/",e.next=3,C("".concat(t,"posts"));case 3:return n=e.sent,e.next=6,C("".concat(t,"users"));case 6:return r=e.sent,e.next=9,C("".concat(t,"comments"));case 9:return a=e.sent,e.next=12,n.map(function(e){return B({},e,{user:r.find(function(t){return t.id===e.userId}),comments:a.filter(function(t){return e.id===t.postId})})});case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=Object(u.b)(null,function(e){return{loadPosts:function(t){return e(function(e){return{type:"loading",value:e}}(t))}}})(function(e){var t=e.loadPosts,n=Object(r.useState)("Load"),c=Object(s.a)(n,2),o=c[0],u=c[1];return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"List of posts"),"Loaded"!==o?a.a.createElement("button",{type:"button",className:"load-button",onClick:function(e){var n=e.target;u("Loading..."),n.disabled="Loading..."===o,L().then(function(e){t(e),u("Loaded")})}},o):a.a.createElement("div",null,a.a.createElement(S,null),a.a.createElement(k,null)))});o.a.render(a.a.createElement(u.a,{store:y},a.a.createElement(I,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.8e189ab2.chunk.js.map